<head>
  <meta charset="UTF-8">
  <title>Exam Generator - Advanced Configuration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
  <div class="container mt-5">
    <h2 class="mb-4 text-center">Exam Generator - Advanced Configuration</h2>

    <!-- Upload Zone -->
    <div class="drop-zone mb-3">
      <p>Drag and drop files, images, or videos here,<br>or click to select</p>
      <input required type="file" class="form-control mt-3" (change)="onFilesSelected($event)" multiple>
    </div>

    <!-- URL Inputs -->
    <div class="row mb-3">
      <div class="col-md-6">
        <input type="text" class="form-control" placeholder="Page URL">
      </div>
      <div class="col-md-6">
        <input type="text" class="form-control" placeholder="Video URL">
      </div>
    </div>

    <!-- Load Button -->
    <div class="mb-4 text-center">
      <button class="btn btn-primary">Load Content</button>
    </div>

    <!-- Advanced Configuration by Question Type -->
    <div class="card p-4 mb-4">
      <h5 class="mb-3">Configure the exam by question type and difficulty</h5>

      <!-- Question Type Selector -->
      <div class="mb-4">
        <label for="questionType" class="form-label">Select question type</label>
        <select id="questionType" class="form-select">
          <option value="singleChoice">Multiple Choice (one correct)</option>
          <option value="multipleChoice">Multiple Choice (one or more correct)</option>
          <option value="trueFalse">True / False</option>
          <option value="shortAnswer">Short Answer</option>
        </select>
      </div>

      <!-- Dynamic Configuration -->
      <div id="questionTypeConfiguration">
        <!-- Initial Configuration (Multiple Choice - One Correct) -->
        <div class="type-header mb-2">Multiple Choice (one correct)</div>
        <div class="row g-2">
          <div class="col-md-6">
            <label>Total Questions</label>
            <input type="number" class="form-control" value="5">
          </div>
          <div class="col-md-6">
            <label>Easy</label>
            <input type="number" class="form-control" value="2">
          </div>
          <div class="col-md-6">
            <label>Medium</label>
            <input type="number" class="form-control" value="2">
          </div>
          <div class="col-md-6">
            <label>Hard</label>
            <input type="number" class="form-control" value="1">
          </div>
        </div>
      </div>

      <button id="addQuestionType" class="btn btn-secondary w-100 mt-3">Add Question Type</button>

      <!-- List of Added Configurations -->
      <div id="configurationList" class="mt-4"></div>

      <button [disabled]="!filesSelected" (click)="generateQuestions()" id="generateExam" class="btn btn-success w-100 mt-4">Generate Exam</button>
    </div>

    <div *ngFor="let question of questions" class="question-card">
      <strong>{{ question.question }}</strong>
      <ul>
        <li *ngFor="let answer of question.answers">
          <input type="radio" [checked]="answer.is_correct">{{ answer.text }}
        </li>
      </ul>
      <button class="btn btn-sm btn-outline-secondary">Editar</button>
      <button class="btn btn-sm btn-outline-primary">Regenerar con IA</button>
    </div>
  </div>


</body>